[7:34 PM, 2/23/2026] Renita: <!doctype html>
<html lang="sq">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>MIA — Mjekët e Inteligjencës Artificiale</title>
<style>
:root{
  --bg0:#050914; --bg1:#020817; --ink:#EAF4FF; --muted:#A7C1DF;
  --glass1:rgba(255,255,255,.10); --glass2:rgba(255,255,255,.06);
  --line:rgba(255,255,255,.14); --shadow:0 22px 70px rgba(0,0,0,.55);
  --r1:18px; --r2:26px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  color:var(--ink);
  background:
    radial-gradient(1200px 700px at 12% 0%, rgba(40,120,255,.22), transparent 60%),
    radial-gradient(900px 600px at 85% 20%, rgba(0,220,255,.14), …
[7:35 PM, 2/23/2026] Renita: <!doctype html>
<html lang="sq">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>MIA - Mjeket e Inteligjences Artificiale</title>
<style>
:root{
  --bg0:#050914; --bg1:#020817; --ink:#EAF4FF; --muted:#A7C1DF;
  --glass1:rgba(255,255,255,.10); --glass2:rgba(255,255,255,.06);
  --line:rgba(255,255,255,.14); --shadow:0 22px 70px rgba(0,0,0,.55);
  --r2:26px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--ink);
  background:
    radial-gradient(1200px 700px at 12% 0%, rgba(40,120,255,.22), transparent 60%),
    radial-gradient(900px 600px at 85% 20%, rgba(0,220,255,.14), transparent 55%),
    linear-gradient(180deg,var(--bg0),var(--bg1));
  overflow:hidden;
}
.bg{position:absolute;inset:0;overflow:hidden}
#ecg{position:absolute;inset:0;width:100%;height:100%;opacity:.92;filter:drop-shadow(0 0 16px rgba(0,180,255,.22))}
.noise{
  position:absolute;inset:-40px;pointer-events:none;opacity:.10;mix-blend-mode:overlay;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.30'/%3E%3C/svg%3E");
}
.vignette{position:absolute;inset:0;pointer-events:none;background:radial-gradient(1000px 600px at 50% 30%,transparent 30%,rgba(0,0,0,.62) 82%)}

.app{position:relative;height:100%;width:100%}
.screen{
  position:absolute;inset:0;display:grid;place-items:center;padding:24px;
  opacity:0;transform:translateY(16px) scale(.985);pointer-events:none;
  transition:opacity .45s ease, transform .55s cubic-bezier(.2,.9,.2,1);
}
.screen.active{opacity:1;transform:translateY(0) scale(1);pointer-events:auto}

.card{
  width:min(980px,94vw);border-radius:var(--r2);
  background:linear-gradient(180deg,var(--glass1),var(--glass2));
  border:1px solid var(--line);box-shadow:var(--shadow);
  backdrop-filter:blur(18px);
  overflow:hidden;position:relative;
}
.card.wide{width:min(1160px,96vw)}
.card::before{
  content:"";position:absolute;inset:-2px;pointer-events:none;
  background:
    radial-gradient(700px 240px at 18% 0%, rgba(140,220,255,.20), transparent 60%),
    radial-gradient(600px 240px at 92% 18%, rgba(0,160,255,.16), transparent 55%);
}
.inner{position:relative;padding:24px}
.topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:16px}
.brand{display:flex;align-items:center;gap:12px}
.logo{
  width:44px;height:44px;border-radius:14px;display:grid;place-items:center;position:relative;overflow:hidden;
  background:linear-gradient(180deg,rgba(120,220,255,.22),rgba(255,255,255,.06));
  border:1px solid rgba(140,220,255,.22);
  box-shadow:0 12px 28px rgba(0,0,0,.30);
}
.logo::before{content:"";position:absolute;inset:-2px;opacity:.9;pointer-events:none;background:radial-gradient(100px 60px at 25% 10%, rgba(255,255,255,.32), transparent 60%)}
.logo span{position:relative;font-weight:950;letter-spacing:.18em;transform:translateX(2px)}
.brandText .mia{font-weight:950;letter-spacing:.16em;font-size:18px;line-height:1.05}
.brandText .sub{font-size:12.5px;color:var(--muted)}
.pill{
  font-size:12px;color:rgba(234,244,255,.90);
  background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);
  padding:8px 10px;border-radius:999px;display:flex;gap:8px;align-items:center;max-width:560px
}
.pill strong{font-weight:800}

.btnRow{display:flex;gap:12px;flex-wrap:wrap}
.btn{
  border:1px solid rgba(255,255,255,.18);
  background:linear-gradient(180deg,rgba(255,255,255,.14),rgba(255,255,255,.06));
  color:var(--ink);padding:13px 16px;border-radius:18px;font-weight:850;cursor:pointer;min-width:240px;
  transition:transform .15s ease,border-color .2s ease,box-shadow .2s ease,opacity .2s ease;
  box-shadow:0 12px 30px rgba(0,0,0,.26);
  position:relative;overflow:hidden;
}
.btn:hover{transform:translateY(-1px);border-color:rgba(170,230,255,.34);box-shadow:0 16px 38px rgba(0,0,0,.32)}
.btn:active{transform:translateY(0)}
.btn.primary{background:linear-gradient(180deg,rgba(120,220,255,.22),rgba(0,140,255,.10));border-color:rgba(140,220,255,.28)}
.btn.small{min-width:auto;padding:10px 12px;border-radius:16px;font-size:13px}
.btn.ghost{background:rgba(0,0,0,.12);border-color:rgba(255,255,255,.14);box-shadow:none}
.btn:disabled{opacity:.45;cursor:not-allowed;transform:none}
@media(max-width:720px){.btn{min-width:100%}}

.landing{width:min(920px,94vw);text-align:center;padding:26px 16px}
.big{
  font-size:clamp(58px,10vw,96px);font-weight:980;letter-spacing:.22em;margin:0;
  display:inline-block;cursor:pointer;text-shadow:0 0 22px rgba(0,200,255,.25);user-select:none;position:relative
}
.subtitle{margin-top:14px;color:var(--muted);font-size:clamp(14px,2.2vw,18px)}
.hint{margin-top:18px;font-size:13px;color:rgba(234,244,255,.72)}

.grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:12px}
@media(max-width:720px){.grid{grid-template-columns:1fr}}
.field{border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);border-radius:18px;padding:12px}
.field label{display:block;font-size:12px;color:rgba(234,244,255,.82);margin-bottom:8px}
.req{color:rgba(180,240,255,.95);font-weight:900;margin-left:6px;font-size:11px}
input,select{
  width:100%;border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.18);color:var(--ink);border-radius:14px;padding:12px;font-size:14px;outline:none
}
.note{
  margin-top:12px;padding:12px 14px;border-radius:18px;background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);color:rgba(234,244,255,.88);font-size:13px;line-height:1.35
}
.statusRow{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-top:12px}
.chip{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);font-size:12px}

.neuroWrap{border-radius:22px;border:1px solid rgba(255,255,255,.14);background:rgba(0,0,0,.14);overflow:hidden;position:relative;min-height:420px}
.neuroCalm{
  position:absolute;inset:0;
  background:
    radial-gradient(1000px 600px at 20% 10%, rgba(120,220,255,.16), transparent 60%),
    radial-gradient(700px 500px at 80% 30%, rgba(0,220,255,.10), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.20), rgba(0,0,0,.36));
  opacity:.96;
}
.neuroStage{position:absolute;inset:0;display:grid;place-items:center;padding:18px;text-align:center}
.flashOverlay{position:absolute;inset:0;background:radial-gradient(700px 380px at 50% 50%, rgba(255,255,255,.35), transparent 60%);opacity:0;pointer-events:none}
.flashOverlay.on{animation:pulseFlash .8s ease-in-out infinite;opacity:.22}
@keyframes pulseFlash{0%,100%{opacity:.10}50%{opacity:.36}}
.shakeOverlay{position:absolute;inset:0;pointer-events:none;opacity:0}
.shakeOverlay.on{opacity:1;animation:shake .55s ease-in-out infinite}
@keyframes shake{0%{transform:translate(0,0)}20%{transform:translate(-2px,1px)}40%{transform:translate(2px,-1px)}60%{transform:translate(-1px,-2px)}80%{transform:translate(1px,2px)}100%{transform:translate(0,0)}}
.breatheOverlay{position:absolute;inset:0;pointer-events:none;opacity:0}
.breatheOverlay.on{opacity:.9;animation:breathe 5s ease-in-out infinite}
@keyframes breathe{0%,100%{transform:scale(1);opacity:.18}50%{transform:scale(1.08);opacity:.34}}
</style>
</head>

<body>
<div class="app">
  <div class="bg">
    <canvas id="ecg"></canvas>
    <div class="noise"></div>
    <div class="vignette"></div>
  </div>

  <section class="screen active" id="s-landing">
    <div class="landing">
      <h1 class="big" id="miaBig">MIA</h1>
      <div class="subtitle">Mjeket e Inteligjences Artificiale</div>
      <div class="hint">Kliko mbi MIA ose shtyp Enter.</div>
    </div>
  </section>

  <section class="screen" id="s-menu">
    <div class="card">
      <div class="inner">
        <div class="topbar">
          <div class="brand">
            <div class="logo"><span>MIA</span></div>
            <div class="brandText">
              <div class="mia">MIA</div>
              <div class="sub">Mjeket e Inteligjences Artificiale</div>
            </div>
          </div>
          <div class="pill" id="pillProfile"><strong>Profili:</strong> ende pa te dhena</div>
        </div>

        <div class="btnRow">
          <button class="btn primary" id="bData">Vendos te dhenat (e detyrueshme)</button>
          <button class="btn" id="bRoutine">Gjenero Rutinen Personale</button>
          <button class="btn" id="bNeuro" disabled>NeuroSpark</button>
        </div>

        <div class="note">
          Shenim: Kjo faqe jep udhezime edukative. Nuk zevendeson mjekun.
          <br>Kujdes: NeuroSpark perdor efekte vizuale dhe audio.
        </div>
      </div>
    </div>
  </section>

  <section class="screen" id="s-data">
    <div class="card">
      <div class="inner">
        <div class="topbar">
          <div class="brand">
            <div class="logo"><span>MIA</span></div>
            <div class="brandText">
              <div class="mia">Vendos te dhenat</div>
              <div class="sub">Detyrueshme: Mosha, Gjinia, Emri</div>
            </div>
          </div>
          <button class="btn small ghost" id="backData">Kthehu</button>
        </div>

        <div class="grid">
          <div class="field">
            <label>Mosha <span class="req">(det.)</span></label>
            <input id="age" type="number" min="5" max="120" placeholder="p.sh. 16">
          </div>
          <div class="field">
            <label>Gjinia <span class="req">(det.)</span></label>
            <select id="gender">
              <option value="">Zgjidh...</option>
              <option value="Femer">Femer</option>
              <option value="Mashkull">Mashkull</option>
              <option value="Tjeter">Tjeter</option>
            </select>
          </div>
          <div class="field">
            <label>Problemi i zemres (ops.)</label>
            <select id="issue">
              <option value="">-</option>
              <option value="Takikardi">Takikardi</option>
              <option value="Bradikardi">Bradikardi</option>
              <option value="Aritmi">Aritmi</option>
              <option value="Tension i larte">Tension i larte</option>
              <option value="Dhimbje gjoksi">Dhimbje gjoksi</option>
              <option value="Tjeter">Tjeter</option>
            </select>
          </div>
          <div class="field">
            <label>Emri <span class="req">(det.)</span></label>
            <input id="name" type="text" maxlength="32" placeholder="p.sh. Ardi">
          </div>
        </div>

        <div class="statusRow">
          <div class="chip" id="statusData">Ploteso fushat e detyrueshme.</div>
          <button class="btn small primary" id="saveGo" style="display:none;">Kthehu ne faqen kryesore</button>
        </div>
      </div>
    </div>
  </section>

  <section class="screen" id="s-routine">
    <div class="card wide">
      <div class="inner">
        <div class="topbar">
          <div class="brand">
            <div class="logo"><span>MIA</span></div>
            <div class="brandText">
              <div class="mia" id="routineTitle">Rutina personale</div>
              <div class="sub" id="routineSub">Vendos BPM dhe SpO2</div>
            </div>
          </div>
          <button class="btn small ghost" id="backRoutine">Kthehu</button>
        </div>

        <div class="grid">
          <div class="field">
            <label>BPM <span class="req">(det.)</span></label>
            <input id="bpm" type="number" min="30" max="220" placeholder="p.sh. 92">
          </div>
          <div class="field">
            <label>SpO2 (%) (ops.)</label>
            <input id="spo2" type="number" min="50" max="100" placeholder="p.sh. 98">
          </div>
          <div class="field">
            <label>Konteksti (ops.)</label>
            <select id="ctx">
              <option value="rest">Ne qetesi</option>
              <option value="after">Pas aktiviteti</option>
              <option value="stress">Ne stres</option>
              <option value="unknown">Nuk jam i sigurt</option>
            </select>
          </div>
          <div class="field">
            <label>Status</label>
            <div class="chip" id="statusBpm">Vendos BPM (30-220).</div>
          </div>
        </div>

        <div class="statusRow">
          <div></div>
          <button class="btn small primary" id="gen">Gjenero</button>
        </div>

        <div class="note" id="out" style="display:none;"></div>
      </div>
    </div>
  </section>

  <section class="screen" id="s-neuro">
    <div class="card wide">
      <div class="inner">
        <div class="topbar">
          <div class="brand">
            <div class="logo"><span>MIA</span></div>
            <div class="brandText">
              <div class="mia">NeuroSpark</div>
              <div class="sub">Test i reagimit nen stres</div>
            </div>
          </div>
          <button class="btn small ghost" id="backNeuro">Kthehu</button>
        </div>

        <div class="note" style="margin-top:0;">
          ESC = ndalo menjehere. Audio luhet vetem pasi klikon "Fillo testin".
        </div>

        <div class="neuroWrap">
          <div class="neuroCalm"></div>
          <div class="flashOverlay" id="flash"></div>
          <div class="shakeOverlay" id="shake"></div>
          <div class="breatheOverlay" id="breathe" style="background:radial-gradient(700px 380px at 50% 50%, rgba(140,220,255,.22), transparent 60%);"></div>

          <div class="neuroStage">
            <div>
              <h3 class="neuroTitle" id="nsTitle">NeuroSpark</h3>
              <p class="neuroText" id="nsText">Faza 1: drita pulsante. Faza 2: zhurme. Faza 3: fokus.</p>

              <div style="margin-top:14px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap;">
                <button class="btn small primary" id="startNeuro">Fillo testin</button>
                <button class="btn small ghost" id="remeasureBtn" style="display:none;">Mat perseri rrahjet</button>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <section class="screen" id="s-result">
    <div class="card wide">
      <div class="inner">
        <div class="topbar">
          <div class="brand">
            <div class="logo"><span>MIA</span></div>
            <div class="brandText">
              <div class="mia">Rezultati</div>
              <div class="sub">Matja 1 vs Matja 2</div>
            </div>
          </div>
          <button class="btn small ghost" id="backResult">Kthehu</button>
        </div>

        <div class="note" id="resultNote" style="margin-top:0;"></div>
        <div id="tableWrap"></div>

        <div class="statusRow">
          <div></div>
          <button class="btn small primary" id="toMenu">Kthehu ne faqen kryesore</button>
        </div>
      </div>
    </div>
  </section>

</div>

<script>
/* Screens */
var S = {
  landing: document.getElementById("s-landing"),
  menu: document.getElementById("s-menu"),
  data: document.getElementById("s-data"),
  routine: document.getElementById("s-routine"),
  neuro: document.getElementById("s-neuro"),
  result: document.getElementById("s-result")
};
function go(name){
  for(var k in S){ S[k].classList.remove("active"); }
  S[name].classList.add("active");
}

var state = {
  profile:{age:null, gender:"", issue:"", name:""},
  m1:null, m2:null,
  remeasure:false
};

document.getElementById("miaBig").addEventListener("click", function(){ go("menu"); });
window.addEventListener("keydown", function(e){
  if(S.landing.classList.contains("active") && e.key==="Enter"){ go("menu"); }
});

/* Data */
var age = document.getElementById("age");
var gender = document.getElementById("gender");
var issue = document.getElementById("issue");
var nameI = document.getElementById("name");
var statusData = document.getElementById("statusData");
var saveGo = document.getElementById("saveGo");
var pill = document.getElementById("pillProfile");

function updatePill(){
  var p = state.profile;
  if(!(p.age && p.gender && p.name)){
    pill.innerHTML = "<strong>Profili:</strong> ende pa te dhena";
    return;
  }
  pill.innerHTML = "<strong>Profili:</strong> " + p.name + " - " + p.age + " vjec - " + p.gender + (p.issue?(" - "+p.issue):"");
}
function validateData(){
  var a = parseInt(age.value,10);
  var okAge = isFinite(a) && a>=5 && a<=120;
  var okG = !!gender.value;
  var okN = nameI.value.trim().length>=2;
  var ok = okAge && okG && okN;
  if(ok){
    statusData.textContent = "Gati";
    saveGo.style.display = "inline-flex";
  }else{
    statusData.textContent = "Ploteso fushat e detyrueshme.";
    saveGo.style.display = "none";
  }
  return ok;
}
age.oninput = validateData;
gender.onchange = validateData;
issue.onchange = validateData;
nameI.oninput = validateData;

document.getElementById("bData").onclick = function(){ go("data"); };
document.getElementById("backData").onclick = function(){ go("menu"); };

saveGo.onclick = function(){
  if(!validateData()) return;
  state.profile.age = parseInt(age.value,10);
  state.profile.gender = gender.value;
  state.profile.issue = issue.value;
  state.profile.name = nameI.value.trim();
  updatePill();
  go("menu");
};

/* Routine */
var bpm = document.getElementById("bpm");
var spo2 = document.getElementById("spo2");
var ctx = document.getElementById("ctx");
var statusBpm = document.getElementById("statusBpm");
var out = document.getElementById("out");

document.getElementById("bRoutine").onclick = function(){
  if(!(state.profile.age && state.profile.gender && state.profile.name)) { go("data"); return; }
  state.remeasure = false;
  out.style.display = "none";
  go("routine");
};
document.getElementById("backRoutine").onclick = function(){ go("menu"); };

function okBpm(){
  var v = parseInt(bpm.value,10);
  var ok = isFinite(v) && v>=30 && v<=220;
  statusBpm.textContent = ok ? "BPM i vlefshem" : "Vendos BPM (30-220).";
  return ok;
}
bpm.oninput = okBpm;

function store(which){
  var bpmVal = parseInt(bpm.value,10);
  var spo2Val = spo2.value ? parseInt(spo2.value,10) : null;
  if(which==="m1") state.m1 = {bpm:bpmVal, spo2:spo2Val, ctx:ctx.value};
  if(which==="m2") state.m2 = {bpm:bpmVal, spo2:spo2Val, ctx:ctx.value};
}

document.getElementById("gen").onclick = function(){
  if(!okBpm()) return;

  if(state.remeasure) store("m2"); else store("m1");

  out.style.display = "block";
  out.innerHTML = "<strong>Plan i shkurter:</strong><br>- Uje: 1.8-2.2 L/dit<br>- Ecje: 20-30 min, 4-5 dite/jave<br>- Gjum: 7.5-8.5 ore<br>- Frymemarrje: 2 min, 2-3 here/dit";

  if(state.m1) document.getElementById("bNeuro").disabled = false;

  if(state.remeasure){
    state.remeasure = false;
    renderResult();
    go("result");
  }
};

/* NeuroSpark */
document.getElementById("bNeuro").onclick = function(){
  if(!state.m1){ go("routine"); return; }
  resetNeuro();
  go("neuro");
};
document.getElementById("backNeuro").onclick = function(){ stopTone(); go("menu"); };

var flash = document.getElementById("flash");
var shake = document.getElementById("shake");
var breathe = document.getElementById("breathe");
var startNeuro = document.getElementById("startNeuro");
var remeasureBtn = document.getElementById("remeasureBtn");

var audioCtx=null, osc=null, gain=null;

function startTone(){
  try{
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    osc = audioCtx.createOscillator();
    gain = audioCtx.createGain();
    osc.type="square";
    osc.frequency.value=920;
    gain.gain.value=0.08;
    osc.connect(gain); gain.connect(audioCtx.destination);
    osc.start();
  }catch(e){ stopTone(); }
}
function stopTone(){
  try{ if(osc) osc.stop(); }catch(e){}
  osc=null;
  try{ if(audioCtx) audioCtx.close(); }catch(e){}
  audioCtx=null; gain=null;
}

function resetNeuro(){
  flash.classList.remove("on");
  shake.classList.remove("on");
  breathe.classList.remove("on");
  remeasureBtn.style.display="none";
}

function delay(ms){ return new Promise(function(res){ setTimeout(res, ms); }); }

window.addEventListener("keydown", function(e){
  if(e.key==="Escape" && S.neuro.classList.contains("active")){
    resetNeuro(); stopTone();
  }
});

startNeuro.onclick = async function(){
  resetNeuro();
  remeasureBtn.style.display="none";

  flash.classList.add("on");
  await delay(3000);
  flash.classList.remove("on");

  shake.classList.add("on");
  startTone();
  await delay(1600);
  stopTone();
  shake.classList.remove("on");

  breathe.classList.add("on");
  await delay(2200);
  breathe.classList.remove("on");

  remeasureBtn.style.display="inline-flex";
};

remeasureBtn.onclick = function(){
  stopTone();
  state.remeasure = true;
  bpm.value=""; spo2.value="";
  out.style.display="none";
  go("routine");
};

/* Result */
document.getElementById("backResult").onclick = function(){ go("menu"); };
document.getElementById("toMenu").onclick = function(){ go("menu"); };

function renderResult(){
  if(!state.m1 || !state.m2) return;
  var dBpm = state.m2.bpm - state.m1.bpm;
  var big = dBpm >= 25;

  var note = document.getElementById("resultNote");
  var wrap = document.getElementById("tableWrap");
  if(big){
    note.innerHTML = "<strong>Rezultat:</strong> ndryshim i madh i BPM. Mund te tregoje reagim te forte ndaj stresit/ankthit (edukative).";
    wrap.innerHTML = "<table><thead><tr><th>Menyra</th><th>Si behet</th></tr></thead><tbody>"
      + "<tr><td><strong>Frymarrja 4-4-6</strong></td><td>4 sek merr fryme, 4 sek mbaj, 6 sek nxirr (5 cikle).</td></tr>"
      + "<tr><td><strong>Grounding</strong></td><td>Gjej 5 gjera qe sheh, 4 qe prek, 3 qe degjon.</td></tr>"
      + "<tr><td><strong>Ecje 10 min</strong></td><td>Ecje e lehte + frymemarrje e kontrolluar.</td></tr>"
      + "</tbody></table>";
  }else{
    note.innerHTML = "<strong>Rezultat:</strong> pa shenja te forta ankthi ne kete test. Vazhdoni me keto zakone te mira.";
    wrap.innerHTML = "<table><thead><tr><th>Vazhdo</th><th>Pse</th></tr></thead><tbody>"
      + "<tr><td><strong>Aktivitet i rregullt</strong></td><td>Stabilizon pulsin dhe ul stresin.</td></tr>"
      + "<tr><td><strong>Gjum i mire</strong></td><td>Rregullon sistemin nervor.</td></tr>"
      + "</tbody></table>";
  }
}

/* ECG background */
var canvas = document.getElementById("ecg");
var c = canvas.getContext("2d");
var W=0,H=0,t=0,last=0;

function resize(){
  var dpr = Math.max(1, window.devicePixelRatio||1);
  W = canvas.clientWidth; H = canvas.clientHeight;
  canvas.width = Math.floor(W*dpr);
  canvas.height = Math.floor(H*dpr);
  c.setTransform(dpr,0,0,dpr,0,0);
}
window.addEventListener("resize", resize);
resize();

function draw(now){
  if(now-last < 33){ requestAnimationFrame(draw); return; }
  last = now;
  t += 0.016;

  c.fillStyle = "rgba(0,0,0,0.18)";
  c.fillRect(0,0,W,H);

  var mid = H*0.52;
  var amp = Math.min(64, H*0.10);

  c.save();
  c.lineWidth = 2.2;
  c.strokeStyle = "rgba(140,220,255,0.95)";
  c.shadowColor = "rgba(0,190,255,0.35)";
  c.shadowBlur = 18;

  c.beginPath();
  var speed = 220;
  var phase = (t*speed) % W;

  for(var x=0;x<=W;x++){
    var u = ((x+phase)%260)/260;
    var y = 0;
    y += Math.sin((x*0.014)+t*1.6)*(amp*0.08);
    if(u>0.30 && u<0.34) y += -amp*0.20;
    if(u>=0.34 && u<0.36) y +=  amp*0.55;
    if(u>=0.36 && u<0.40) y += -amp*1.00;
    if(u>=0.40 && u<0.44) y +=  amp*0.30;
    if(u>=0.44 && u<0.52) y += Math.sin((u-0.44)Math.PI*6)(amp*0.10);

    var yy = mid + y;
    if(x===0) c.moveTo(x,yy); else c.lineTo(x,yy);
  }
  c.stroke();
  c.restore();

  requestAnimationFrame(draw);
}
requestAnimationFrame(draw);

/* Init */
updatePill();
go("landing");
</script>
</body>
</html>
